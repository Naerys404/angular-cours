<div class="container mx-auto p-4 max-w-lg">
  <h1 class="text-3xl font-bold text-center text-primary mb-6">Suivi des Tâches</h1>

  <div class="card bg-base-100 shadow-xl mb-6">
    <div class="card-body">
      <h3 class="card-title text-xl">Ajouter une tâche</h3>
      <div class="form-control">
        <label class="label">
          <span class="label-text">Titre de la tâche</span>
        </label>
        <input
          type="text"
          placeholder="Titre de la tâche"
          class="input input-bordered w-full"
          [(ngModel)]="taskTitle"
        />
      </div>
      <div class="form-control mt-2">
        <label class="label">
          <span class="label-text" name="priority">Priorité</span>
        </label>
        <select class="select select-bordered w-full" [(ngModel)]="taskPriority">
          <option value="haute">Haute</option>
          <option value="moyenne">Moyenne</option>
          <option value="basse">Basse</option>
        </select>
      </div>
      <div class="card-actions justify-end mt-4">
        <button class="btn btn-success w-full" type="button" (click)="addTask()">Ajouter</button>
      </div>
    </div>
  </div>

  <div>
    <div class="card bg-base-100 shadow-xl mb-6">
      <div class="card-body">
        <h3 class="card-title text-xl">Liste des Tâches</h3>
        <ul class="space-y-3">
          @if(taskList.length > 0)
          { @for(task of taskList; track $index){
          <li class="flex justify-between items-center p-3 bg-base-200 rounded-lg">
            {{task.title}}
            <span class="font-medium">
              <div class="badge badge-sm ml-2">{{taskPriority}}</div>
            </span>
            <div class="flex space-x-2">
              <button class="btn btn-sm btn-info" (click)="completeTask(task)">Complète</button>
              <button class="btn btn-sm btn-outline btn-error" (click)="deleteTask(task)">Supprimer</button>
            </div>
          </li>
          } }
        </ul>
      </div>
    </div>
  </div>

  <div class="card bg-base-100 shadow-xl mb-6">
    <div class="card-body">
      <h3 class="card-title text-xl">Statistiques</h3>
      <div class="stats stats-vertical lg:stats-horizontal shadow w-full">
        <div class="stat">
          <div class="stat-title">Tâches complètes</div>
          <div class="stat-value text-success"></div>
        </div>

        <div class="stat">
          <div class="stat-title">Tâches restantes</div>
          <div class="stat-value text-warning"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="alert alert-success shadow-lg">
    <div>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-current flex-shrink-0 h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
        />
      </svg>
      <div>
        <h4 class="font-bold">Félicitations!</h4>
        <div class="text-sm">Vous avez terminé toutes vos tâches !</div>
      </div>
    </div>
  </div>
</div>
